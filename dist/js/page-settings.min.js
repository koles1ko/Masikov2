const burger=document.querySelector(".menu__burger"),menu=document.querySelector(".menu__navigation");burger.addEventListener("click",()=>{menu.classList.toggle("menu-open"),burger.classList.toggle("menu-open")});let title=document.title,settingsLink=document.querySelector(".page-header__settings");function changeLinkLogo(e){"Главная"==e&&settingsLink.setAttribute("href","settings.html"),"Настройки"==e&&settingsLink.setAttribute("href","index.html")}changeLinkLogo(title);let numberOfCount,tabNav=document.querySelector(".tabs-nav"),tabsWrapper=document.querySelector(".settings-tabs"),tabContent=document.querySelectorAll(".tabs-content__item"),timerCount=document.querySelectorAll(".js-count");function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}function changeTabs(e){let t=e.target.getAttribute("data-tab");e.target.classList.contains("tabs-nav__item_deactive")||(tabsWrapper.querySelector(".tabs-nav__item_active").classList.remove("tabs-nav__item_active"),tabsWrapper.querySelector(".tabs-content__item_active").classList.remove("tabs-content__item_active"),e.target.classList.add("tabs-nav__item_active"),tabContent.forEach(e=>{e.getAttribute("id")==t&&e.classList.add("tabs-content__item_active")})),findActive(tabContent)}function findActive(e){e.forEach(e=>{if(e.querySelector(".js-count").value=e.querySelector(".js-range").value,e.classList.contains("tabs-content__item_active")){let t=e.querySelector(".content-item__checkbox_input"),n=e.querySelector(".js-save"),r=e.querySelector(".js-saved"),o=e.querySelector(".content-item__nocheck"),a=e.querySelectorAll(".js-numbers"),c=e.querySelector(".js-count"),l=e.querySelector(".js-count-box"),s=e.querySelector(".js-range");JSON.parse(localStorage.getItem("modeCheck"))?t.checked=!0:t.checked=!1,e.querySelector(".js-range").value=JSON.parse(localStorage.getItem("numberOfTimerCount")),c.value=JSON.parse(localStorage.getItem("numberOfTimerCount")),numberOfCount=JSON.parse(localStorage.getItem("numberOfTimerLeft")),l.style.left=numberOfCount;let u=JSON.parse(localStorage.getItem("typeOfNumber"));for(let e=0;e<u.length;e++)console.log(a[e]),u[e]==a[e].getAttribute("id")&&(console.log("a"),a[e].checked=!0);e.querySelector(".js-range").addEventListener("mousemove",()=>{let t=e.querySelector(".js-range").scrollWidth,n=c.value;10==s.value?(c.value="Выкл",l.style.left=0):(c.value=s.value,numberOfCount=(n-10)*t/110-24+"px",console.log(numberOfCount),l.style.left=numberOfCount,window.addEventListener("resize",(e,t)=>{l.style.left=numberOfCount}),localStorage.setItem("numberOfTimerLeft",JSON.stringify(numberOfCount)),localStorage.setItem("numberOfTimerCount",JSON.stringify(c.value)))}),e.querySelector(".js-range").addEventListener("touchmove",()=>{let t=e.querySelector(".js-count"),n=e.querySelector(".js-count-box"),r=e.querySelector(".js-range"),o=e.querySelector(".js-range").scrollWidth,a=t.value;10==r.value?(t.value="Выкл",n.style.left=0):(t.value=r.value,n.style.left=(a-10)*o/110-24+"px",window.addEventListener("resize",(e,t)=>{n.style.left=(e-10)*t/110-24+"px"}))}),n.addEventListener("click",()=>{let e=[];if(a.forEach(t=>{t.checked?e.push(t.getAttribute("id")):e.push(0)}),0!=e.length&&t.checked){r.style.opacity=1,setTimeout((function(){r.style.opacity=0}),2e3)}else{o.style.opacity=1,setTimeout((function(){o.style.opacity=0}),2e3)}localStorage.setItem("typeOfNumber",JSON.stringify(e)),localStorage.setItem("modeCheck",JSON.stringify(t.checked))})}})}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")})),findActive(tabContent),tabNav.addEventListener("click",changeTabs);