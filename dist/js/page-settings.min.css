const burger=document.querySelector(".menu__burger"),menu=document.querySelector(".menu__navigation");burger.addEventListener("click",()=>{menu.classList.toggle("menu-open"),burger.classList.toggle("menu-open")});let title=document.title,settingsLink=document.querySelector(".page-header__settings");function changeLinkLogo(e){"Home"==e&&settingsLink.setAttribute("href","settings.html"),"Settings"==e&&settingsLink.setAttribute("href","index.html")}changeLinkLogo(title);let numberOfCount,tabNav=document.querySelector(".tabs-nav"),tabsWrapper=document.querySelector(".settings-tabs"),tabContent=document.querySelectorAll(".tabs-content__item"),timerCount=document.querySelectorAll(".js-count"),mods=document.querySelectorAll(".content-item__checkbox_input"),numbersArray=[],massive=[];const modeAdd=document.querySelector("#mode-add"),modeSub=document.querySelector("#mode-sub");function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}function changeTabs(e){let t=e.target.getAttribute("data-tab");e.target.classList.contains("tabs-nav__item_deactive")||(tabsWrapper.querySelector(".tabs-nav__item_active").classList.remove("tabs-nav__item_active"),tabsWrapper.querySelector(".tabs-content__item_active").classList.remove("tabs-content__item_active"),e.target.classList.add("tabs-nav__item_active"),tabContent.forEach(e=>{e.getAttribute("id")==t&&e.classList.add("tabs-content__item_active")})),findActive(tabContent)}function findActive(e){e.forEach(e=>{if(e.querySelector(".js-count").value=e.querySelector(".js-range").value,e.classList.contains("tabs-content__item_active")){let t=e.querySelector(".js-save"),o=e.querySelector(".js-saved"),r=e.querySelector(".content-item__nocheck"),l=e.querySelectorAll(".js-numbers"),n=e.querySelector(".js-count"),a=e.querySelector(".js-count-box"),c=e.querySelector(".js-range"),s=JSON.parse(localStorage.getItem("numberOfTimerLeft")),u=JSON.parse(localStorage.getItem("numberOfTimerCount")),i=JSON.parse(localStorage.getItem("typeOfNumber")),m=JSON.parse(localStorage.getItem("modeCheck")),g=e.getAttribute("id");console.log(i),console.log(l),m&&(1!=JSON.parse(localStorage.getItem("mode-add"))?modeAdd.setAttribute("checked",!1):(modeAdd.setAttribute("checked",!0),console.log(modeAdd)),1!=JSON.parse(localStorage.getItem("mode-sub"))||null==JSON.parse(localStorage.getItem("mode-sub"))?(modeSub.setAttribute("checked",!1),console.log(JSON.parse(localStorage.getItem("mode-sub")))):(modeSub.setAttribute("checked",!0),console.log(modeSub)));for(let e=0;e<l.length;e++)null==i?console.log("ypa"):l[e].getAttribute("id")==i[e]&&(console.log(i[e]),l[e].setAttribute("checked",!0));let d=[];d.push(JSON.parse(localStorage.getItem("mode-add")),JSON.parse(localStorage.getItem("mode-sub"))),console.log(d),console.log("checkTimer "+u),console.log(g),null==localStorage.getItem("numberOfCount")?(console.log("Пусто в локалстораге"),localStorage.setItem("numberOfTimerCount",14),localStorage.setItem("numberOfCount",14),numberOfCount=JSON.parse(localStorage.getItem("numberOfCount")),n.value=numberOfCount,console.log(localStorage.getItem("numberOfTimerCount"))):0==u?(n.value="Выкл",a.style.left=0,localStorage.setItem("numberOfTimerCount",0),localStorage.setItem("numberOfTimerLeft",JSON.stringify("-17"))):(console.log("там что то есть"),n.value=+u,a.style.left=s),modeCheck.addEventListener("click",()=>{let e=modeCheck.getAttribute("id");modeCheck.checked?localStorage.setItem(e,!0):(console.log(2),localStorage.setItem(e,!1))}),e.querySelector(".js-range").value=JSON.parse(localStorage.getItem("numberOfTimerCount")),a.style.left=numberOfCount;JSON.parse(localStorage.getItem("typeOfNumber"));e.querySelector(".js-range").addEventListener("mousemove",()=>{let t=e.querySelector(".js-range").scrollWidth,o=n.value;10==c.value?(n.value="Выкл",a.style.left=0,localStorage.setItem("numberOfTimerCount",0)):(n.value=c.value,numberOfCount=(o-10)*t/110-24+"px",a.style.left=numberOfCount,window.addEventListener("resize",(e,t)=>{a.style.left=numberOfCount}),localStorage.setItem("numberOfTimerLeft",JSON.stringify(numberOfCount)),localStorage.setItem("numberOfTimerCount",JSON.stringify(n.value)))}),e.querySelector(".js-range").addEventListener("touchmove",()=>{let t=e.querySelector(".js-count"),o=e.querySelector(".js-count-box"),r=e.querySelector(".js-range"),l=e.querySelector(".js-range").scrollWidth,n=t.value;10==r.value?(t.value="Выкл",o.style.left=0):(t.value=r.value,o.style.left=(n-10)*l/110-24+"px",window.addEventListener("resize",(e,t)=>{o.style.left=(e-10)*t/110-24+"px"}))}),t.addEventListener("click",()=>{let e=[];for(let t=0;t<l.length;t++)l[t].checked?e.push(l[t].getAttribute("id")):e.push(0);if(0!=e.length&&modeCheck.checked){localStorage.setItem("numberOfValue",JSON.stringify(e)),o.style.opacity=1,setTimeout((function(){o.style.opacity=0}),2e3)}else{r.style.opacity=1,setTimeout((function(){r.style.opacity=0}),2e3)}localStorage.setItem("typeOfNumber",JSON.stringify(e)),localStorage.setItem("modeCheck",JSON.stringify(modeCheck.checked))})}})}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")})),findActive(tabContent),tabNav.addEventListener("click",changeTabs);