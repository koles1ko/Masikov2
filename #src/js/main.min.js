const burger=document.querySelector(".menu__burger"),menu=document.querySelector(".menu__navigation");burger.addEventListener("click",()=>{menu.classList.toggle("menu-open"),burger.classList.toggle("menu-open")});let title=document.title,settingsLink=document.querySelector(".page-header__settings");function changeLinkLogo(e){"Главная"==e&&settingsLink.setAttribute("href","settings.html"),"Настройки"==e&&settingsLink.setAttribute("href","index.html")}changeLinkLogo(title);for(var input=document.querySelectorAll(".js-number-result"),buffer=[],i=0;input.length>i;i++)console.log(input[i].value),buffer[i]=document.createElement("div"),buffer[i].className="js-number-buffer",buffer[i].classList.add("content-result__numbers"),input[i].parentNode.insertBefore(buffer[i],input[i].nextSibling),input[i].oninput=function(){resultAction.style.color="black",resultAction.style.borderColor="black",this.nextElementSibling.innerHTML=this.value,this.style.width=this.nextElementSibling.clientWidth+8+"px"};const hint=document.querySelector(".js-hint"),hintClose=document.querySelector(".js-close"),hintPopup=document.querySelector(".popup-wrapper"),buttonStart=document.querySelector(".js-start"),buttonStop=document.querySelector(".js-stop"),buttonNext=document.querySelector(".js-next"),blockResult=document.querySelector(".page-content__result"),blockPlay=document.querySelector(".page-content__play");let num1,num2,num,currentLength,resultMachine,resultUser,content,number1=document.querySelector(".js-number-first"),number2=document.querySelector(".js-number-second"),resultAction=document.querySelector(".js-number-result"),countTrue=document.querySelector(".content-bool__true_count"),countFalse=document.querySelector(".content-bool__false_count"),boom=JSON.parse(localStorage.getItem("typeOfNumber"));function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}function openHintBox(){hintPopup.style.opacity=1,hintPopup.style.visibility="visible",hintClose.closest(".popup-wrapper").addEventListener("click",()=>{hintPopup.style.opacity=0,hintPopup.style.visibility="hidden"})}function startGame(){buttonStart.style.display="none",blockResult.style.display="block",blockResult.classList.add("active")}function endGame(){buttonStart.style.display="block",blockResult.style.display="none",blockResult.classList.remove("active")}function play(){blockResult.classList.contains("active")?endGame():startGame()}function getRandomElem(e){let t;do{t=Math.floor(Math.random()*e.length)}while(0==e[t]);currentLength=t+1}function getNumberOne(){getRandomNumber(),number1.textContent=num,num1=parseInt(number1.textContent,10)}function getNumberTwo(){getRandomNumber(),number2.textContent=num,num2=parseInt(number2.textContent,10)}function getRandomNumber(){do{num=Math.floor(Math.random()*Math.pow(10,currentLength))}while(0==num)}function operationOfMath(e,t){JSON.parse(localStorage.getItem("modeCheck"))&&(resultMachine=e+t,console.log(e),console.log(t))}function check(){resultAction.style.borderColor="black",resultMachine==resultUser?(resultAction.style.color="green",countTrue.value++,buttonNext.textContent="дальше",buttonNext.style.backgroundColor="green",console.log(content)):(resultAction.style.color="red",resultAction.style.borderColor="red",countFalse.value++)}function checkInput(){content=buttonNext.textContent,resultUser=+resultAction.value,resultUser?"дальше"!=content&&resultUser?(console.log("3"),console.log("sdfkpodsjfkgnvji"),check()):"дальше"==content&&resultUser&&(console.log("1"),console.log(resultUser),console.log(content),getRandomElem(boom),getNumberOne(),getNumberTwo(),operationOfMath(num1,num2),resultAction.value="",buttonNext.textContent="проверить",buttonNext.style.backgroundColor="blue",resultAction.style.width="30px"):(console.log(resultUser),console.log("2"),resultAction.style.borderColor="red",resultAction.style.borderWidth="2px",resultAction.style.borderStyle="solid")}countTrue.value=0,countFalse.value=0,testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")})),getRandomElem(boom),getNumberOne(),getNumberTwo(),operationOfMath(num1,num2),hint.addEventListener("click",()=>{openHintBox()}),blockPlay.addEventListener("click",play),buttonNext.addEventListener("click",checkInput),window,addEventListener("click",e=>{console.log(e.target)});